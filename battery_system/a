struct power_supply {
180 000        const char *name;
181 004        enum power_supply_type type;
182 008        enum power_supply_property *properties;
183 012        size_t num_properties;
184 
185 016        char **supplied_to;
186 020        size_t num_supplicants;
187 
188 024        char **supplied_from;
189 028        size_t num_supplies;
190 032        struct device_node *of_node;
191 
192 036        int (*get_property)(struct power_supply *psy,
193                             enum power_supply_property psp,
194                             union power_supply_propval *val);
195 040        int (*set_property)(struct power_supply *psy,
196                             enum power_supply_property psp,
197                             const union power_supply_propval *val);
198 044        int (*property_is_writeable)(struct power_supply *psy,
199                                      enum power_supply_property psp);
200 048        void (*external_power_changed)(struct power_supply *psy);
201 052        void (*set_charged)(struct power_supply *psy);
202 
209         /* For APM emulation, think legacy userspace. */
210 056        int use_for_apm;
211 
212         /* private */
213 060        struct device *dev;
214 064        struct work_struct changed_work; (16 байт)
215 080        spinlock_t changed_lock; (16 байт)
    096        bool changed; 
217 #ifdef CONFIG_THERMAL
218 100        struct thermal_zone_device *tzd;
219 104        struct thermal_cooling_device *tcd;
220 #endif
221 
222 #ifdef CONFIG_LEDS_TRIGGERS
223 108        struct led_trigger *charging_full_trig;
224 108        char *charging_full_trig_name;
225 112        struct led_trigger *charging_trig;
226 116        char *charging_trig_name;
227 120        struct led_trigger *full_trig;
228 124        char *full_trig_name;
229 128        struct led_trigger *online_trig;
230 132        char *online_trig_name;
231 136        struct led_trigger *charging_blink_full_solid_trig;
232 140        char *charging_blink_full_solid_trig_name;
233 #endif
234 };  148	
235 


FFFFFFFF ; enum power_supply_property (standard) (width 4 bytes)
FFFFFFFF POWER_SUPPLY_PROP_STATUS  EQU 0
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_TYPE  EQU 1
FFFFFFFF POWER_SUPPLY_PROP_HEALTH  EQU 2
FFFFFFFF POWER_SUPPLY_PROP_PRESENT  EQU 3
FFFFFFFF POWER_SUPP LY_PROP_ONLINE  EQU 4
FFFFFFFF POWER_SUPPLY_PROP_AUTHENTIC  EQU 5
FFFFFFFF POWER_SUPPLY_PROP_CHARGING_ENABLED  EQU 6
FFFFFFFF POWER_SUPPLY_PROP_TECHNOLOGY  EQU 7
FFFFFFFF POWER_SUPPLY_PROP_CYCLE_COUNT  EQU 8
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_MAX  EQU 9
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_MIN  EQU 0xA           10
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_MAX_DESIGN  EQU 0xB    11 
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_MIN_DESIGN  EQU 0xC    12
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_NOW  EQU 0xD           13   
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_AVG  EQU 0xE           14 
FFFFFFFF POWER_SUPPLY_PROP_VOLTAGE_OCV  EQU 0xF           15
FFFFFFFF POWER_SUPPLY_PROP_INPUT_VOLTAGE_REGULATION  EQU 0x10   16
FFFFFFFF POWER_SUPPLY_PROP_CURRENT_MAX  EQU 0x11          17 
FFFFFFFF POWER_SUPPLY_PROP_INPUT_CURRENT_MAX  EQU 0x12    18
FFFFFFFF POWER_SUPPLY_PROP_INPUT_CURRENT_TRIM  EQU 0x13   19
FFFFFFFF POWER_SUPPLY_PROP_INPUT_CURRENT_SETTLED  EQU 0x14 20
FFFFFFFF POWER_SUPPLY_PROP_CURRENT_NOW  EQU 0x15             21
FFFFFFFF POWER_SUPPLY_PROP_CURRENT_AVG  EQU 0x16             22
FFFFFFFF POWER_SUPPLY_PROP_POWER_NOW  EQU 0x17      23
FFFFFFFF POWER_SUPPLY_PROP_POWER_AVG  EQU 0x18      24
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_FULL_DESIGN  EQU 0x19  25
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_EMPTY_DESIGN  EQU 0x1A  26
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_FULL  EQU 0x1B          27
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_EMPTY  EQU 0x1C         28 
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_NOW  EQU 0x1D           29
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_AVG  EQU 0x1E           30
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_COUNTER  EQU 0x1F          31
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_COUNTER_SHADOW  EQU 0x20    32
FFFFFFFF POWER_SUPPLY_PROP_CONSTANT_CHARGE_CURRENT  EQU 0x21  33
FFFFFFFF POWER_SUPPLY_PROP_CONSTANT_CHARGE_CURRENT_MAX  EQU 0x22  34
FFFFFFFF POWER_SUPPLY_PROP_CONSTANT_CHARGE_VOLTAGE  EQU 0x23      35
FFFFFFFF POWER_SUPPLY_PROP_CONSTANT_CHARGE_VOLTAGE_MAX  EQU 0x24  36
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_CONTROL_LIMIT  EQU 0x25         37
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_CONTROL_LIMIT_MAX  EQU 0x26     38
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_FULL_DESIGN  EQU 0x27           39  
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_EMPTY_DESIGN  EQU 0x28          40
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_FULL  EQU 0x29                  41
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_EMPTY  EQU 0x2A                 42
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_NOW  EQU 0x2B                   43
FFFFFFFF POWER_SUPPLY_PROP_ENERGY_AVG  EQU 0x2C                   44
FFFFFFFF POWER_SUPPLY_PROP_CAPACITY  EQU 0x2D                     45
FFFFFFFF POWER_SUPPLY_PROP_CAPACITY_ALERT_MIN  EQU 0x2E           46 
FFFFFFFF POWER_SUPPLY_PROP_CAPACITY_ALERT_MAX  EQU 0x2F           47
FFFFFFFF POWER_SUPPLY_PROP_CAPACITY_LEVEL  EQU 0x30               48
FFFFFFFF POWER_SUPPLY_PROP_TEMP  EQU 0x31                         49 
FFFFFFFF POWER_SUPPLY_PROP_TEMP_ALERT_MIN  EQU 0x32               50 
FFFFFFFF POWER_SUPPLY_PROP_TEMP_ALERT_MAX  EQU 0x33               51
FFFFFFFF POWER_SUPPLY_PROP_COOL_TEMP  EQU 0x34                    52
FFFFFFFF POWER_SUPPLY_PROP_WARM_TEMP  EQU 0x35                    53
FFFFFFFF POWER_SUPPLY_PROP_TEMP_AMBIENT  EQU 0x36                 54
FFFFFFFF POWER_SUPPLY_PROP_TEMP_AMBIENT_ALERT_MIN  EQU 0x37       55
FFFFFFFF POWER_SUPPLY_PROP_TEMP_AMBIENT_ALERT_MAX  EQU 0x38       56
FFFFFFFF POWER_SUPPLY_PROP_TIME_TO_EMPTY_NOW  EQU 0x39            57
FFFFFFFF POWER_SUPPLY_PROP_TIME_TO_EMPTY_AVG  EQU 0x3A            58
FFFFFFFF POWER_SUPPLY_PROP_TIME_TO_FULL_NOW  EQU 0x3B             59 
FFFFFFFF POWER_SUPPLY_PROP_TIME_TO_FULL_AVG  EQU 0x3C             60
FFFFFFFF POWER_SUPPLY_PROP_TYPE  EQU 0x3D                         61
FFFFFFFF POWER_SUPPLY_PROP_SCOPE  EQU 0x3E                        62
FFFFFFFF POWER_SUPPLY_PROP_SYSTEM_TEMP_LEVEL  EQU 0x3F            63
FFFFFFFF POWER_SUPPLY_PROP_RESISTANCE  EQU 0x40                   64
FFFFFFFF POWER_SUPPLY_PROP_RESISTANCE_CAPACITIVE  EQU 0x41        65
FFFFFFFF POWER_SUPPLY_PROP_USB_HC  EQU 0x42                       66
FFFFFFFF POWER_SUPPLY_PROP_USB_OTG  EQU 0x43                      67 
FFFFFFFF POWER_SUPPLY_PROP_CHARGE_ENABLED  EQU 0x44               68  
FFFFFFFF POWER_SUPPLY_PROP_MODEL_NAME  EQU 0x45                   69 
FFFFFFFF POWER_SUPPLY_PROP_MANUFACTURER  EQU 0x46                 70
FFFFFFFF POWER_SUPPLY_PROP_SERIAL_NUMBER  EQU 0x47                71  
FFFFFFFF POWER_SUPPLY_PROP_BATTERY_TYPE  EQU 0x48                 72
